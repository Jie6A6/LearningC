# 通讯录管理系统

## 1. 系统需求

- 添加联系人：向通讯录中添加新人，信息包括 (姓名、性别、年龄、联系电话、家庭住址) 最多记录 1000 人
- 显示联系人：显示通讯录中所有联系人信息
- 删除联系人：按照姓名进行删除指定联系人信息
- 查找联系人：按照姓名查看指定联系人信息
- 修改联系人：按照姓名重新修改指定联系人
- 清空联系人：清空通讯录中所有信息
- 退出通讯录：脱出当前使用的通讯录

## 2. 创建项目

1. 创建项目文件夹
2. 创建源文件 (通讯录管理系统.cpp)

## 3. 菜单功能

**功能描述**：用户选择功能的界面

菜单界面效果如下：

![菜单功能](... "菜单功能展示图片")

**步骤**：

- 封装函数显示该界面，如 `void showMenu()`
- 在 main 函数中调用封装好的函数

**代码**：

```
// 封装函数显示该界面，如 `void showMenu()`
// 在 main 函数中调用封装好的函数

#include <iostream>
using namespace std;

// 菜单界面
void showMenu()
{
    cout << "****************************" << endl;
    cout << "*****   1. 添加联系人   *****" << endl;
    cout << "*****   2. 显示联系人   *****" << endl;
    cout << "*****   3. 删除联系人   *****" << endl;
    cout << "*****   4. 查找联系人   *****" << endl;
    cout << "*****   5. 修改联系人   *****" << endl;
    cout << "*****   6. 清空联系人   *****" << endl;
    cout << "*****   0. 退出通讯录   *****" << endl;
    cout << "****************************" << endl;
}



int main()
{

    // 菜单的调用
    showMenu();

    system("pause");

    return 0;
}
```

## 4. 退出功能

**功能描述**：退出通讯录系统

**思路**：根据用户的不同选择，进入不同的功能，可以选择 switch 分支结构 ( if 语句也是可以选择的)，将整个架构进行搭建

当用户先择 0 的时候，执行退出，选择其他先不做操作，也不会退出程序

**代码**：

```
// 封装函数显示该界面，如 `void showMenu()`
// 在 main 函数中调用封装好的函数

#include <iostream>
using namespace std;

// 菜单界面
void showMenu()
{
    cout << "****************************" << endl;
    cout << "*****   1. 添加联系人   *****" << endl;
    cout << "*****   2. 显示联系人   *****" << endl;
    cout << "*****   3. 删除联系人   *****" << endl;
    cout << "*****   4. 查找联系人   *****" << endl;
    cout << "*****   5. 修改联系人   *****" << endl;
    cout << "*****   6. 清空联系人   *****" << endl;
    cout << "*****   0. 退出通讯录   *****" << endl;
    cout << "****************************" << endl;
}



int main()
{

    int select = 0; //创建用户选择输入的变量

    while (true) // 做完除了退出操作都会回到初始界面
    {
        // 菜单的调用
        showMenu();

        cin >> select;

        switch (select)
        {
        case 1: // 1. 添加联系人
            /* code */
            break;
        case 2: // 2. 显示联系人
            /* code */
            break;
        case 3: // 3. 删除联系人
            /* code */
            break;
        case 4: // 4. 查找联系人
            /* code */
            break;
        case 5: // 5. 修改联系人
            /* code */
            break;
        case 6: // 6. 清除联系人
            /* code */
            break;
        case 0: // 0. 退出通讯录
            cout << "欢迎下次使用" << endl;
            system("pause"); // 按任意键退出的效果
            return 0; // 退出效果
            break;
        
        default:
            break;
        }

    }
    

    system("pause");

    return 0;
}

```

## 5. 添加联系人

**功能描述**：实现添加联系人功能，联系人上限为 1000 人，联系人信息包括 (姓名、性别、年龄、联系电话、家庭住址)

添加联系人实现步骤：

- 设计联系人结构体
- 设计通讯录结构体
- main 函数中创建通讯录
- 封装添加联系人函数
- 测试添加联系人功能

### 5.1 设计联系人结构体

联系人信息包括：姓名、性别、年龄、联系电话、家庭住址

设计如下：

```
#include <string>
// 联系人结构体
struct Person
{
    string m_Name; // 姓名
    int m_Gender; // 性别
    int m_Age; // 年龄
    string m_Phone; // 电话
    string m_Addr; // 住址
};
```

### 5.2 设计通讯录结构体

设计时候可以在通讯录结构体中，维护一个容量为 1000 的存放联系人的数组，并记录当前通讯录中联系人数量

设计如下：

```
#define Max 1000 // 最大人数常量

// 通讯录结构体
struct Addressbooks
{
    struct Person personArray[Max]; // 通讯录中保存的联系人数据
    int m_Size; // 通讯录中人员个数
};
```

## 6. 显示联系人

**功能描述**：显示通讯录中已有的联系人信息

**显示联系人实现步骤**：

- 封装显示联系人函数
- 测试显示联系人功能

### 6.1 封装显示联系人函数

思路：判断如果当前通讯录中没有人员，就提示记录为空，人数大于 0 ，显示通讯录中信息

显示联系人代码：

```
void showPerson(Addressbooks * abs)
{
    // 判断通讯录中人数是否为 0 ，如果为 0 ，提示记录为空；如果不为 0 ，显示记录的联系人信息
    if (abs->m_Size == 0)
    {
        cout << "当前记录为空" << endl;
    }
    else
    {
        for (int i = 0; i < abs->m_Size; i++)
        {
            cout << "姓名：" << abs->personArray[i].m_Name << "\t"; // 制表符操作
            cout << "性别：" << (abs->personArray[i].m_Gender == 1 ? "男" : "女") << "\t";
            cout << "年龄：" << abs->personArray[i].m_Age<< "\t";
            cout << "电话：" << abs->personArray[i].m_Phone << "\t";
            cout << "住址：" << abs->personArray[i].m_Addr << endl;
        }
    }
    system("pause");
    system("cls");
}
```

## 7. 删除联系人

**功能描述**：按照姓名进行删除指定联系人

**显示联系人实现步骤**：

- 封装检测联系人是否存在
- 封装删除联系人函数
- 测试删除联系人功能

### 7.1 封装检测联系人函数

思路：删除联系人前，我们需要先判断用户输入的联系人是否存在，如果存在删除，不存在提示用户没有要制除的联系人。因此我们可以把检测联系人是否存在封装成一个的函数中，如果存在，返回联系人在通讯录中的位置，不存在返回-1

检测联系人代码：

```
// 检测联系人是否存在
int isExist(Addressbooks * abs, string name) // 参数 1 通讯录，参数 2 输入的人名
{
    for (int i = 0; i < abs->m_Size; i++)
    {
        // 找到用户输入的姓名
        if (abs->personArray[i].m_Name == name)
        {
            return i; // 找到了，返回这个人在数组的下标编号
        }
    }
    return -1; // 遍历结束没有找到，返回 -1
}
```

### 7.2 封装删除联系人函数

根据用户输入的联系人判断该通讯录中是否有此人
查找进行删除，并提示删除成功
查不到提示查无此人

删除联系人代码：

```
void deletePerson(Addressbooks * abs)
{
    cout << "请输入您要删除的联系人：" << endl;

    string name;
    cin >> name;

    // ret == -1 未查到
    // ret != -1 查到
    int ret = isExist(abs, name);

    if (ret != -1)
    {
        // 查到了，进行具体删除操作，把后面的数据往需要删除的前移数据覆盖，并且让通讯录中记录人员数量 -1
        for (int i = ret; i < abs->m_Size; i++)
        {
            // 数据前移
            abs->personArray[i] = abs->personArray[i + 1];
        }
        abs->m_Size--; // 更新通讯录中的人员数
        cout << "删除成功！" << endl;
    }
    else
    {
        cout << "查无此人！" << endl;
    }

    system("pause");
    system("cls");
    
}
```

## 8. 查找联系人

**功能描述**：按照姓名查看指定联系人信息

**查找联系人实现步骤**：

- 封装查找联系人函数
- 测试查找指定联系人

### 8.1 封装查找联系人函数

实现思路：判断用户指定的联系人是否存在，如果存在显示信息，不存在则提示查无此人。

查找联系人代码：

```
void findPerson(Addressbooks * abs)
{
    cout << "请输入您要查找的联系人" << endl;
    string name;
    cin >> name;
    
    // 判断联系人是否存在
    int ret = isExist(abs, name);
    if (ret != -1) // 找到联系人
    {
        cout << "姓名：" << abs->personArray[ret].m_Name << "\t"; // 制表符操作
        cout << "性别：" << (abs->personArray[ret].m_Gender == 1 ? "男" : "女") << "\t";
        cout << "年龄：" << abs->personArray[ret].m_Age<< "\t";
        cout << "电话：" << abs->personArray[ret].m_Phone << "\t";
        cout << "住址：" << abs->personArray[ret].m_Addr << endl;
    }
    else
    {
        cout << "查无此人！" << endl; 
    }

    system("pause");
    system("cls");
}
```

## 9. 修改联系人

**功能描述**：按照姓名重新修改指定联系人

**查找联系人实现步骤**：

- 封装修改联系人函数
- 测试修改联系人函数

### 9.1 封装修改联系人函数

实现思路：查找用户输入的联系人，如果查找成功进行修改操作，查找失败提示查无此人。

修改联系人代码：

```
void modifyPerson(Addressbooks * abs)
{
    cout << "请输入您要修改的联系人" << endl;
    string name;
    cin >> name;
    
    // 判断联系人是否存在
    int ret = isExist(abs, name);
    if (ret != -1) // 修改联系人
    {
        // 姓名
        string name;
        cout << "请输入姓名：" << endl;
        cin >> name;
        abs->personArray[ret].m_Name = name;
        // 性别
        cout << "请输入性别：" << endl;
        cout << "1 --- 男" << endl;
        cout << "2 --- 女" << endl;
        int gender = 0;

        while (true)
        {
            cin >> gender;
            if (gender == 1 || gender == 2)
            {
                abs->personArray[ret].m_Gender = gender;
                break;
            }
            cout << "输入有误，请重新输入！" << endl;
        }
        // 年龄
        cout << "请输入年龄：" << endl;
        int age = 0;
        abs->personArray[ret].m_Age = age;
        // 电话
        cout << "请输入电话：" << endl;
        string phone;
        abs->personArray[ret].m_Phone = phone;
        // 地址
        cout << "请输入地址：" << endl;
        string adress;
        abs->personArray[ret].m_Addr = adress;

        cout << "修改成功！" << endl; 
    }
    else
    {
        cout << "查无此人！" << endl; 
    }

    system("pause");
    system("cls");
}
```

## 10. 清空联系人

**功能描述**：清空通讯录中所有信息

**查找联系人实现步骤**：

- 封装清空联系人函数
- 测试清空联系人函数

### 10.1 封装清空联系人函数

实现思路：将通讯录所有联系人信息清除掉，只要将通讯录记录的联系人数量置为 0 ，做逻辑清空即可。

清空联系人代码：

```
void cleanPerson(Addressbooks * abs)
{

    abs->m_Size = 0; //将当前记录联系人数量置为 0 ，做逻辑清空操作
    cout << "通讯录清空" << endl;
    system("pause");
    system("cls");
}
```